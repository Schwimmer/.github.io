<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Record and Think!">
<meta property="og:type" content="website">
<meta property="og:title" content="Schwimmer&#39;s Blog">
<meta property="og:url" content="https://schwimmer.github.io/page/14/index.html">
<meta property="og:site_name" content="Schwimmer&#39;s Blog">
<meta property="og:description" content="Record and Think!">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Schwimmer&#39;s Blog">
<meta name="twitter:description" content="Record and Think!">





  
  
  <link rel="canonical" href="https://schwimmer.github.io/page/14/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Schwimmer's Blog</title>
  




  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143240576-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-143240576-1');
    }
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Schwimmer's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/09/24/总结与思考/微权力下的项目管理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/24/总结与思考/微权力下的项目管理/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-24 11:54:51" itemprop="dateCreated datePublished" datetime="2018-09-24T11:54:51+08:00">2018-09-24</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-10-23 22:57:15" itemprop="dateModified" datetime="2018-10-23T22:57:15+08:00">2018-10-23</time>
              </span>
            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/09/24/总结与思考/微权力下的项目管理/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/09/24/总结与思考/微权力下的项目管理/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="项目经理必备的素质"><a href="#项目经理必备的素质" class="headerlink" title="项目经理必备的素质"></a>项目经理必备的素质</h1><p>— 大局观。从企业角度思考问题</p>
<p>— 对目标执着。目标不清晰时会本能的明确目标，分解和传递目标给团队，始终围绕目标展开工作。</p>
<p>— 换位思考。</p>
<p>— 应变能力。遇到突然事件，迅速评估各种状况。</p>
<p>— 平衡能力。识别各个利益方的动机和分歧点，并能帮助他们达成共识。</p>
<p>— 仆人式领导。放低姿态，采用服务他人的态度和方式。</p>
<h1 id="技术转型管理时的几个难点"><a href="#技术转型管理时的几个难点" class="headerlink" title="技术转型管理时的几个难点"></a>技术转型管理时的几个难点</h1><p>关注点：做事 -&gt; 做人</p>
<p>角色：演员 -&gt; 导演</p>
<p>知识范畴：技术 -&gt; 技术+业务</p>
<p>思考方式：点（专注） -&gt; 面（大局观）</p>
<h1 id="项目是否具备投资价值的三个维度"><a href="#项目是否具备投资价值的三个维度" class="headerlink" title="项目是否具备投资价值的三个维度"></a>项目是否具备投资价值的三个维度</h1><p>1、项目是值得做的</p>
<p>衡量收益</p>
<p>2、有能力交付</p>
<p>3、有能力实现收益</p>
<p>项目成果能否转化？</p>
<p>项目有三个关键利益方：</p>
<p>1、代表项目投资人的项目发起方</p>
<p>2、代表项目交付能力的项目实施方</p>
<p>3、代表项目收益实现的项目成果使用方。</p>
<h1 id="项目业务可行性分析报告"><a href="#项目业务可行性分析报告" class="headerlink" title="项目业务可行性分析报告"></a>项目业务可行性分析报告</h1><p>包括内容</p>
<p>1、内容提要</p>
<p>2、项目产生的原因</p>
<p>3、备选业务方案和建议</p>
<p>4、预期项目收益</p>
<p>5、可能的项目负收益</p>
<p>6、项目收益实现的时间</p>
<p>7、实现项目收益的成本</p>
<p>8、项目的投入产出分析</p>
<p>9、项目收益实现的主要风险</p>
<p>10、项目的关键成功要素</p>
<p>— 可以更好帮助企业高层管理团队明确项目需要高层支持什么。例如，如果希望在汇报时说服高层从资源或关注度上给予一些倾斜，就必须讲明白项目的关键成功要素与项目在稀缺资源的获取方面和高层领导的关注度之间的密切关系。</p>
<h1 id="项目业务价值论证的生命周期"><a href="#项目业务价值论证的生命周期" class="headerlink" title="项目业务价值论证的生命周期"></a>项目业务价值论证的生命周期</h1><p>要持续论证，在整个项目过程中，每隔一段时间论证一次。</p>
<p>常用的投资评估指标：ROI、净现值NPV、净收益、整个生命周期成本、投资回收期</p>
<h1 id="避免哥伦布式管理"><a href="#避免哥伦布式管理" class="headerlink" title="避免哥伦布式管理"></a>避免哥伦布式管理</h1><p>“走的时候不知道去哪儿，到了的时候不知道自己在哪儿，回来之后不知道自己去过哪儿”</p>
<h1 id="项目产品描述"><a href="#项目产品描述" class="headerlink" title="项目产品描述"></a>项目产品描述</h1><p>成为项目目标和范围的依据</p>
<p>包括：</p>
<p>名称、目的</p>
<p>项目产品的组成部分</p>
<p>各个组成部分的来源</p>
<p>所需的开发技能</p>
<p>客户的质量期望</p>
<p>验收标准</p>
<p>项目的质量容许偏差</p>
<p>验证方法</p>
<p>验证职责</p>
<h1 id="里程碑的作用"><a href="#里程碑的作用" class="headerlink" title="里程碑的作用"></a>里程碑的作用</h1><p>Milestone帮助行人判断自己走完路程的百分比。项目里程碑用来衡量项目工作完成的百分比。</p>
<h1 id="认清风险"><a href="#认清风险" class="headerlink" title="认清风险"></a>认清风险</h1><p>项目中会泛泛而谈风险，如资源不足、时间不够、人员不配合、供应商不能按时交付等。这些风险所有项目都存在，这就是成立项目和任命项目经理的原因。成立项目团队的目的就是能够在很有有限的时间和资源内组织一群原本不配合的人去完成一个有挑战性的目标。</p>
<p>要把风险描述清楚，得从企业风险偏好讲起。不同企业对风险的认知和接受程度是不同的。</p>
<h2 id="1、风险偏好"><a href="#1、风险偏好" class="headerlink" title="1、风险偏好"></a>1、风险偏好</h2><p>定义：组织对承受风险的独特态度决定了它认为可承受风险的程度。</p>
<p>把企业氛围风险追逐者、厌恶者、中立者。</p>
<p>厌恶者：银行。有非常严格的体系，通过复杂的流程和监控进行管理，避免承受任何风险。</p>
<p>追逐者：互联网企业。赔钱赚吆喝，画大饼，拉风投，筹到钱后高薪组建团队，大量做营销。</p>
<h2 id="2、风险描述三段论"><a href="#2、风险描述三段论" class="headerlink" title="2、风险描述三段论"></a>2、风险描述三段论</h2><p>1）风险原因：风险驱动点。什么导致了风险的出现。</p>
<p>2）风险事件：描述一旦发生了，表现形式是什么。时间、地点、哪个环节、概率多大。</p>
<p>3）风险结果：对谁造成什么影响，程度有多严重。</p>
<p>风险原因的注意点：</p>
<p>1）不仅要描述风险根源，还要说明导致这个的责任人是谁。防止不能引起相关的关注。</p>
<p>2）有个原则，这个风险的原因必须要在企业内部找。</p>
<p>风险影响：</p>
<p>明确这个风险会影响哪个目标，是项目的产品工期、成果转化，还是收益实现。</p>
<p>如果是交付工期、交付质量、交付成本的影响，容易引起项目建设团队的重视。</p>
<p>如果是成果转化的影响，会引起项目使用方的关注</p>
<p>如果把影响和项目收益关联，引起企业领导关注。</p>
<p>如果与企业战略落地关联，会引起高层领导关注和帮助。</p>
<p>注意：</p>
<p>有项目经理把风险影响描述为“项目工期延迟、人员不配合、项目整体资源不足、客户对项目产品不满意或预算超支”。这些就是对项目经理的考核指标，如果这些状况发生，那就是项目经理自己的工作没做好。</p>
<p>问题出在，没有把风险影响进一步分解，分解到对更具体的事件的影响上。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/09/24/总结与思考/如何落地需求/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/24/总结与思考/如何落地需求/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-24 11:44:48 / 修改时间：11:50:57" itemprop="dateCreated datePublished" datetime="2018-09-24T11:44:48+08:00">2018-09-24</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/09/24/总结与思考/如何落地需求/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/09/24/总结与思考/如何落地需求/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>落地需求</p>
<p>确认需求：用自己的话描述一遍需求</p>
<p>分析需求：除了功能需求，是否有潜在需求，比如还需要UI等内容。</p>
<p>分析资源</p>
<p>需求的范围：</p>
<p>功能性需求</p>
<p>非功能性需求</p>
<p>DMA data model action</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/09/16/机器学习/NLP/语言模型/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/16/机器学习/NLP/语言模型/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-16 13:26:51 / 修改时间：15:41:05" itemprop="dateCreated datePublished" datetime="2018-09-16T13:26:51+08:00">2018-09-16</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/09/16/机器学习/NLP/语言模型/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/09/16/机器学习/NLP/语言模型/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="词向量"><a href="#词向量" class="headerlink" title="词向量"></a>词向量</h1><p>　　自然语言理解的问题要转化为机器学习的问题，第一步肯定是要找一种方法把这些符号数学化。</p>
<p>NLP 中最直观的词表示方法是 One-hot Representation，这种方法把每个词表示为一个很长的向量。这个向量的维度是词表大小，其中绝大多数元素为 0，只有一个维度的值为 1，这个维度就代表了当前的词。</p>
<p>这么简洁的表示方法配合上最大熵、SVM、CRF 等等算法已经很好地完成了 NLP 领域的各种主流任务。</p>
<p><strong>one-hot的缺点是：“词汇鸿沟”现象：任意两个词之间都是孤立的</strong>。光从这两个向量中看不出两个词是否有关系。</p>
<p>Deep Learning的词向量不是用one-hot，而是<strong>Distributed Representation</strong>。这个就是<strong>词向量</strong></p>
<p>可以认为，该模型最大的贡献就是解决了词汇鸿沟现象，可以让相关的词在向量空间上更接近。</p>
<blockquote>
<p>Distributed representation 最早是 Hinton 在 1986 年的论文《Learning distributed representations of concepts》中提出的。</p>
<p>Distributed representation 用来表示词，通常被称为“Word Representation”或“Word Embedding”，中文俗称“词向量”。周志华叫他词嵌入</p>
</blockquote>
<h1 id="词向量的训练获得"><a href="#词向量的训练获得" class="headerlink" title="词向量的训练获得"></a>词向量的训练获得</h1><p>要介绍词向量是怎么训练得到的，就不得不提到语言模型。到目前为止我了解到的所有训练方法<strong>都是在训练语言模型的同时，顺便得到词向量的</strong>。</p>
<p>词向量的训练最经典的有 3 个工作，<strong>C&amp;W 2008、M&amp;H 2008、Mikolov 2010</strong>。</p>
<h2 id="Bengio-的经典之作"><a href="#Bengio-的经典之作" class="headerlink" title="Bengio 的经典之作"></a>Bengio 的经典之作</h2><p>用神经网络训练语言模型的思想最早由百度 IDL 的徐伟于 2000 提出。其论文《Can Artificial Neural Networks Learn Language Models?》提出一种用神经网络构建二元语言模型（即 $P(w<em>t|w</em>{t-1})$ ）的方法。文中的基本思路与后续的语言模型的差别已经不大了。</p>
<p>训练语言模型的最经典之作，要数 Bengio 等人在 2001 年发表在 NIPS 上的文章《A Neural Probabilistic Language Model》。当然现在看的话，肯定是要看他在 2003 年投到 JMLR 上的同名论文了。</p>
<p>Bengio 用了一个三层的神经网络来构建语言模型，同样也是 n-gram 模型。</p>
<p><img src="http://licstar.net/wp-content/uploads/2013/07/1.png" alt=""></p>
<p>图中最下方的 wt−n+1,…,wt−2,wt−1wt−n+1,…,wt−2,wt−1 就是前 n−1n−1 个词。现在需要根据这已知的 n−1n−1 个词预测下一个词 wtwt。C(w)C(w) 表示词 ww 所对应的词向量，整个模型中使用的是一套唯一的词向量，存在矩阵 CC（一个 |V|×m|V|×m 的矩阵）中。其中 |V||V| 表示词表的大小（语料中的总词数），mm 表示词向量的维度。ww 到 C(w)C(w) 的转化就是从矩阵中取出一行。<br>　　网络的第一层（输入层）是将 C(wt−n+1),…,C(wt−2),C(wt−1)C(wt−n+1),…,C(wt−2),C(wt−1) 这 n−1n−1 个向量首尾相接拼起来，形成一个 (n−1)m(n−1)m 维的向量，下面记为 xx。<br>　　网络的第二层（隐藏层）就如同普通的神经网络，直接使用 d+Hxd+Hx 计算得到。dd 是一个偏置项。在此之后，使用 tanhtanh 作为激活函数。<br>　　网络的第三层（输出层）一共有 |V||V| 个节点，每个节点 yiyi 表示 下一个词为 ii 的未归一化 log 概率。最后使用 softmax 激活函数将输出值 yy 归一化成概率。</p>
<h2 id="C-amp-W-的-SENNA"><a href="#C-amp-W-的-SENNA" class="headerlink" title="C&amp;W 的 SENNA"></a>C&amp;W 的 SENNA</h2><p>Ronan Collobert 和 Jason Weston 在 2008 年的 ICML 上发表的《A Unified Architecture for Natural Language Processing: Deep Neural Networks with Multitask Learning》里面首次介绍了他们提出的词向量的计算方法。</p>
<p>如果现在要看的话，应该去看他们在 2011 年投到 JMLR 上的论文《Natural Language Processing (Almost) from Scratch》。</p>
<p>实际上 C&amp;W 这篇论文主要目的并不是在于生成一份好的词向量，甚至不想训练语言模型，而是要用这份词向量去完成 NLP 里面的各种任务，比如词性标注、命名实体识别、短语识别、语义角色标注等等。<br>　　由于目的的不同，C&amp;W 的词向量训练方法在我看来也是最特别的。他们没有去近似地求 P(wt|w1,w2,…,wt−1)P(wt|w1,w2,…,wt−1)，而是直接去尝试近似 P(w1,w2,…,wt)P(w1,w2,…,wt)。在实际操作中，他们并没有去求一个字符串的<strong>概率</strong>，而是<strong>求窗口连续 n 个词的打分</strong> f(wt−n+1,…,wt−1,wt)f(wt−n+1,…,wt−1,wt)。打分 ff 越高的说明这句话越是正常的话；打分低的说明这句话不是太合理；如果是随机把几个词堆积在一起，那肯定是负分（差评）。打分只有相对高低之分，并没有概率的特性。<br>　　有了这个对 ff的假设，C&amp;W 就直接使用 <strong>pair-wise</strong> 的方法训练词向量。具体的来说，就是最小化下面的目标函数。</p>
<script type="math/tex; mode=display">
\sum\limits_{x\in \mathfrak{X}} { \sum\limits_{w\in \mathfrak{D}} {\max \{0 , 1-f(x)+f(x^{(w)})\} } }</script><p>x(w)x(w) 是将短语 xx 的最中间的那个词，替换成 ww。在大多数情况下，在一个正常短语的基础上随便找个词替换掉中间的词，最后得到的短语肯定不是正确的短语，所以这样构造的负样本是非常可用的（多数情况下确实是负样本，极少数情况下把正常短语当作负样本也不影响大局）。同时，由于负样本仅仅是修改了正样本中的一个词，也不会让分类面距离负样本太远而影响分类效果。再回顾这个式子，xx 是正样本，x(w)x(w) 是负样本，f(x)f(x) 是对正样本的打分，f(x(w))是对负样本的打分。最后希望正样本的打分要比负样本的打分至少高 1 分。</p>
<p>f函数的结构与Bengio的网络结构基本一致，同样是把n个词对应的词向量串成一个长向量，同样是经过一层网络（乘一个矩阵）得到隐藏层。不同在于C&amp;W的输出层只有一个节点，表示得分。当然有这种简化还是因为 C&amp;W 并不想做一个真正的语言模型，只是借用语言模型的思想辅助他完成 NLP 的其它任务。</p>
<p>因为动机不同，他公布的词向量与其他相比的主要区别是：</p>
<p>1、只有小写单词。也就是说他把大写开头的单词和小写单词当作同一个词处理。其它的词向量都是把他们当作不同的词处理的。</p>
<p>2.他公布的词向量并不直接是上述公式的优化结果，而是在此基础上进一步跑了词性标注、命名实体识别等等一系列任务的 Multi-Task Learning 之后，二次优化得到的。也可以理解为是半监督学习得到的，而非其他方法中纯无监督学习得到的。</p>
<p>不过好在 Turian 在 2010 年对 C&amp;W 和 M&amp;H 向量做对比时，重新训练了一份词向量放到了网上，那份就没上面的两个“问题”（确切的说应该是差别），也可以用的更放心。</p>
<h2 id="M-amp-H-的-HLBL"><a href="#M-amp-H-的-HLBL" class="headerlink" title="M&amp;H 的 HLBL"></a>M&amp;H 的 HLBL</h2><p>Andriy Mnih 和 Geoffrey Hinton 在 2007 年和 2008 年各发表了一篇关于训练语言模型和词向量的文章。2007 年发表在 ICML 上的《Three new graphical models for statistical language modelling》表明了 Hinton 将 Deep Learning 战场扩展到 NLP 领域的决心。2008 年发表在 NIPS 上的《A scalable hierarchical distributed language model》则提出了一种层级的思想替换了 Bengio 2003 方法中最后隐藏层到输出层最花时间的矩阵乘法，在保证效果的基础上，同时也提升了速度。</p>
<h2 id="Mikolov-的-RNNLM"><a href="#Mikolov-的-RNNLM" class="headerlink" title="Mikolov 的 RNNLM"></a>Mikolov 的 RNNLM</h2><p>mikolov就是word2vec的发明人。前文说到，Bengio 2003 论文里提了一句，可以使用一些方法降低参数个数，比如用循环神经网络。Mikolov 就抓住了这个坑，从此与循环神经网络结下了不解之缘。</p>
<p>他最早用循环神经网络做语言模型是在 INTERSPEECH 2010 上发表的《Recurrent neural network based language model》里。</p>
<p><img src="http://licstar.net/wp-content/uploads/2013/07/2-300x256.png" alt=""></p>
<p>三篇关于word2vec的论文</p>
<p><strong>1、Efficient Estimation of Word Representation in Vector Space, 2013</strong></p>
<p>传统的NNLM模型包含四层，即输入层、映射层、隐含层和输出层，计算复杂度很大程度上依赖于映射层到隐含层之间的计算，而且需要指定上下文的长度。RNNLM模型被提出用来改进NNLM模型，去掉了映射层，只有输入层、隐含层和输出层，计算复杂度来源于上一层的隐含层到下一层隐含层之间的计算。</p>
<p>传统的NNLM模型包含四层，即输入层、映射层、隐含层和输出层，计算复杂度很大程度上依赖于映射层到隐含层之间的计算，而且需要指定上下文的长度。RNNLM模型被提出用来改进NNLM模型，去掉了映射层，只有输入层、隐含层和输出层，计算复杂度来源于上一层的隐含层到下一层隐含层之间的计算。</p>
<p><strong>2、Distributed Representations of Sentences and Documents, 2014</strong></p>
<p>句向量以及段落向量如何表示：</p>
<p>句向量：利用one-hot的表示方法作为网络的输入，乘以词矩阵W，然后将得到的每个向量通过平均或者拼接的方法得到整个句子的表示，最后根据任务要求做一分类，而这过程中得到的W就是词向量矩阵，基本上还是word2vec的思路。</p>
<p>段落向量：依旧是相同的方法，只是在这里加上了一个段落矩阵，用以表示每个段落，当这些词输入第i个段落时，通过段落id就可以从这个矩阵中得到相对应的段落表示方法。需要说明的是，在相同的段落中，段落的表示是相同的。文中这样表示的动机就是段落矩阵D可以作为一个memory记住在词的context中遗失的东西，相当于增加了一个额外的信息。这样经过训练之后，我们的就得到了段落表示D，当然这个段落就可以是一段或者一篇文章。</p>
<p><strong>3、Enriching Word Vectors with Subword Information, 2016</strong></p>
<p><strong>问题：如何解决word2vec方法中罕见词效果不佳的问题，以及如何提升词形态丰富语言的性能？</strong></p>
<p>如果一个word出现次数较少那么学到的vector质量也不理想。针对这一问题作者提出使用subword信息来弥补这一问题，简单来说就是通过词缀的vector来表示词。比如unofficial是个低频词，其数据量不足以训练出高质量的vector，但是可以通过un+official这两个高频的词缀学习到不错的vector。</p>
<p>参考</p>
<p><a href="https://blog.csdn.net/sinat_26917383/article/details/52577551" target="_blank" rel="noopener">https://blog.csdn.net/sinat_26917383/article/details/52577551</a></p>
<p><a href="https://licstar.net/archives/328" target="_blank" rel="noopener">https://licstar.net/archives/328</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/09/16/机器学习/NLP/牛津大学xDeepMind 自然语言处理/第一课/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/16/机器学习/NLP/牛津大学xDeepMind 自然语言处理/第一课/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-16 12:41:51 / 修改时间：13:04:56" itemprop="dateCreated datePublished" datetime="2018-09-16T12:41:51+08:00">2018-09-16</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/09/16/机器学习/NLP/牛津大学xDeepMind 自然语言处理/第一课/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/09/16/机器学习/NLP/牛津大学xDeepMind 自然语言处理/第一课/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>课程英文资料<a href="https://github.com/oxford-cs-deepnlp-2017/lectures" target="_blank" rel="noopener">https://github.com/oxford-cs-deepnlp-2017/lectures</a></p>
<p>视频<a href="https://study.163.com/course/courseMain.htm?courseId=1004336028" target="_blank" rel="noopener">https://study.163.com/course/courseMain.htm?courseId=1004336028</a></p>
<h1 id="概念对照"><a href="#概念对照" class="headerlink" title="概念对照"></a>概念对照</h1><p>discrete variables 离散变量</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/08/29/hadoop-spark/python操作hdfs/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/29/hadoop-spark/python操作hdfs/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-08-29 09:34:48" itemprop="dateCreated datePublished" datetime="2018-08-29T09:34:48+08:00">2018-08-29</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-08-30 17:00:53" itemprop="dateModified" datetime="2018-08-30T17:00:53+08:00">2018-08-30</time>
              </span>
            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/08/29/hadoop-spark/python操作hdfs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/29/hadoop-spark/python操作hdfs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.cnblogs.com/Jims2016/p/8047914.html" target="_blank" rel="noopener">https://www.cnblogs.com/Jims2016/p/8047914.html</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> sys </span><br><span class="line"><span class="keyword">from</span> hdfs.client <span class="keyword">import</span> Client</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置utf-8模式</span></span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding( <span class="string">"utf-8"</span> )</span><br><span class="line"></span><br><span class="line"><span class="comment">#关于python操作hdfs的API可以查看官网:</span></span><br><span class="line"><span class="comment">#https://hdfscli.readthedocs.io/en/latest/api.html</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment">#读取hdfs文件内容,将每行存入数组返回</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_hdfs_file</span><span class="params">(client,filename)</span>:</span></span><br><span class="line">    <span class="comment">#with client.read('samples.csv', encoding='utf-8', delimiter='\n') as reader:</span></span><br><span class="line">    <span class="comment">#  for line in reader:</span></span><br><span class="line">    <span class="comment">#pass</span></span><br><span class="line">    lines = []</span><br><span class="line">    <span class="keyword">with</span> client.read(filename, encoding=<span class="string">'utf-8'</span>, delimiter=<span class="string">'\n'</span>) <span class="keyword">as</span> reader:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> reader:</span><br><span class="line">            <span class="comment">#pass</span></span><br><span class="line">            <span class="comment">#print line.strip()</span></span><br><span class="line">            lines.append(line.strip())</span><br><span class="line">    <span class="keyword">return</span> lines</span><br><span class="line">    </span><br><span class="line"><span class="comment">#创建目录</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdirs</span><span class="params">(client,hdfs_path)</span> :</span></span><br><span class="line">    client.makedirs(hdfs_path)</span><br><span class="line"> </span><br><span class="line"><span class="comment">#删除hdfs文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_hdfs_file</span><span class="params">(client,hdfs_path)</span>:</span></span><br><span class="line">    client.delete(hdfs_path)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#上传文件到hdfs</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">put_to_hdfs</span><span class="params">(client,local_path,hdfs_path)</span>:</span></span><br><span class="line">    client.upload(hdfs_path, local_path,cleanup=<span class="keyword">True</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#从hdfs获取文件到本地</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_from_hdfs</span><span class="params">(client,hdfs_path,local_path)</span>:</span></span><br><span class="line">    download(hdfs_path, local_path, overwrite=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#追加数据到hdfs文件    </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append_to_hdfs</span><span class="params">(client,hdfs_path,data)</span>:</span></span><br><span class="line">    client.write(hdfs_path, data,overwrite=<span class="keyword">False</span>,append=<span class="keyword">True</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#覆盖数据写到hdfs文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_hdfs</span><span class="params">(client,hdfs_path,data)</span>:</span></span><br><span class="line">    client.write(hdfs_path, data,overwrite=<span class="keyword">True</span>,append=<span class="keyword">False</span>)</span><br><span class="line">  </span><br><span class="line"><span class="comment">#移动或者修改文件  </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">move_or_rename</span><span class="params">(client,hdfs_src_path, hdfs_dst_path)</span>:</span></span><br><span class="line">    client.rename(hdfs_src_path, hdfs_dst_path)</span><br><span class="line">   </span><br><span class="line"><span class="comment">#返回目录下的文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list</span><span class="params">(client,hdfs_path)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> client.list(hdfs_path, status=<span class="keyword">False</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">#client = Client(url, root=None, proxy=None, timeout=None, session=None) </span></span><br><span class="line"><span class="comment">#client = Client("http://hadoop:50070")</span></span><br><span class="line">   </span><br><span class="line"><span class="comment">#move_or_rename(client,'/input/2.csv', '/input/emp.csv')</span></span><br><span class="line"><span class="comment">#read_hdfs_file(client,'/input/emp.csv')</span></span><br><span class="line"><span class="comment">#put_to_hdfs(client,'/home/shutong/hdfs/1.csv','/input/')</span></span><br><span class="line"><span class="comment">#append_to_hdfs(client,'/input/emp.csv','我爱你'+'\n')</span></span><br><span class="line"><span class="comment">#write_to_hdfs(client,'/input/emp.csv','我爱你'+'\n')</span></span><br><span class="line"><span class="comment">#read_hdfs_file(client,'/input/emp.csv')</span></span><br><span class="line"><span class="comment">#move_or_rename(client,'/input/emp.csv', '/input/2.csv')</span></span><br><span class="line"><span class="comment">#mkdirs(client,'/input/python')</span></span><br><span class="line"><span class="comment">#print list(client,'/input/')</span></span><br><span class="line"><span class="comment">#chown(client,'/input/1.csv', 'root')</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 若路径已存在，则删除再创建</span><br><span class="line">is_path_exist = client.status(hdfs_path=hdfs_path,strict=False)</span><br><span class="line">if is_path_exist != None:</span><br><span class="line">    delete_hdfs_file(client, hdfs_path)</span><br><span class="line">mkdirs(client, hdfs_path)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/08/27/工具和环境/excel技巧/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/27/工具和环境/excel技巧/" class="post-title-link" itemprop="url">Excel技巧</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-08-27 14:50:45" itemprop="dateCreated datePublished" datetime="2018-08-27T14:50:45+08:00">2018-08-27</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-07-05 16:27:13" itemprop="dateModified" datetime="2019-07-05T16:27:13+08:00">2019-07-05</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/工具和环境/" itemprop="url" rel="index"><span itemprop="name">工具和环境</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/08/27/工具和环境/excel技巧/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/27/工具和环境/excel技巧/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="使用Excel求两列的交集"><a href="#使用Excel求两列的交集" class="headerlink" title="使用Excel求两列的交集"></a>使用Excel求两列的交集</h1><p><a href="https://jingyan.baidu.com/article/c1a3101ea6c0afde656debca.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/c1a3101ea6c0afde656debca.html</a></p>
<p>第一步，选择一个空的单元格。图中的A、B列是原始数据列，C列是选择的单元格列，又来存储结果。我们利用公式“=IF(COUNTIF(B:B,A2)&gt;0,A2,0)”来求交集，即查找“A2”在B列里面有吗？如果有，则把C列的单元格设置为A2的值，如果不是则设为0（0是可以选择的）。</p>
<p>第二步，扩展单元格。当我们在C2里面设置好公式之后，把鼠标放在C2单元格右下角，回出现一个“+”符号，然后按住鼠标下拉，会把同样的公式应用到C列。可以快速的求A、B列的交集。如果数据记录太多，用鼠标不方便，可以在出现“+”符号的地方双击左键回自动应用。</p>
<p>第三步，筛选。当我们做好上面的处理之后，C列会有0和非0两个值（如果交集结果有0，那就再选一个数字作为处理结果）。我们选择C1单元格，然后点击筛选。然后C1会变成筛选项。</p>
<p>第四步，设置筛选条件。我们点击C1的下拉栏，设置筛选条件。由于不好截图，只能文字描述下了。点击下拉栏，会出现条件选项，如果不符合你的要求，就选择自定义，如图所示。</p>
<p>如果检验B1在A列中是否存在：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=IF(COUNTIF(A:A,B1)&gt;0,B1,0)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/08/24/机器学习/综合性讲解/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/24/机器学习/综合性讲解/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-08-24 09:58:53 / 修改时间：09:59:10" itemprop="dateCreated datePublished" datetime="2018-08-24T09:58:53+08:00">2018-08-24</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/08/24/机器学习/综合性讲解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/24/机器学习/综合性讲解/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>图解机器学习</p>
<p><a href="http://www.r2d3.us/%E5%9B%BE%E8%A7%A3%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" target="_blank" rel="noopener">http://www.r2d3.us/%E5%9B%BE%E8%A7%A3%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/08/23/机器学习/数据挖掘比赛记录/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/23/机器学习/数据挖掘比赛记录/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-08-23 09:57:11 / 修改时间：09:57:46" itemprop="dateCreated datePublished" datetime="2018-08-23T09:57:11+08:00">2018-08-23</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/08/23/机器学习/数据挖掘比赛记录/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/23/机器学习/数据挖掘比赛记录/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>微额借款用户人品预测大赛</p>
<p><a href="http://www.dcjingsai.com/common/bbs/topicDetails.html?tid=348" target="_blank" rel="noopener">http://www.dcjingsai.com/common/bbs/topicDetails.html?tid=348</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/08/21/地理信息挖掘/scala工具包/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/21/地理信息挖掘/scala工具包/" class="post-title-link" itemprop="url">【转】GeoScala</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-08-21 11:28:38" itemprop="dateCreated datePublished" datetime="2018-08-21T11:28:38+08:00">2018-08-21</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-07-05 15:06:42" itemprop="dateModified" datetime="2019-07-05T15:06:42+08:00">2019-07-05</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/地理信息处理和挖掘/" itemprop="url" rel="index"><span itemprop="name">地理信息处理和挖掘</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/08/21/地理信息挖掘/scala工具包/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/21/地理信息挖掘/scala工具包/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://zhuanlan.zhihu.com/p/40268852?utm_source=com.alibaba.android.rimet&amp;utm_medium=social&amp;utm_oi=27309297893376" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/40268852?utm_source=com.alibaba.android.rimet&amp;utm_medium=social&amp;utm_oi=27309297893376</a></p>
<h1 id="GeoScala-GPS数据挖掘前处理的一站式解决方案"><a href="#GeoScala-GPS数据挖掘前处理的一站式解决方案" class="headerlink" title="GeoScala-GPS数据挖掘前处理的一站式解决方案"></a>GeoScala-GPS数据挖掘前处理的一站式解决方案</h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://schwimmer.github.io/2018/08/16/机器学习/如何在Kaggle首战中进入前10/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Schwimmer">
      <meta itemprop="description" content="Record and Think!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Schwimmer's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/16/机器学习/如何在Kaggle首战中进入前10/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-08-16 09:43:51 / 修改时间：09:44:36" itemprop="dateCreated datePublished" datetime="2018-08-16T09:43:51+08:00">2018-08-16</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/08/16/机器学习/如何在Kaggle首战中进入前10/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/16/机器学习/如何在Kaggle首战中进入前10/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/" target="_blank" rel="noopener">https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/</a></p>
<p>如何在 Kaggle 首战中进入前 10% Posted on 2016-04-29 |  In <a href="https://dnc1994.com/categories/Data-Science/" target="_blank" rel="noopener">Data Science </a>|  <a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/#comments" target="_blank" rel="noopener">53 Comments</a> Reading time ≈ 28Introduction<strong>本文采用署名 - 非商业性使用 - 禁止演绎 3.0 中国大陆许可协议进行许可。著作权由章凌豪所有。</strong><a href="https://www.kaggle.com/" target="_blank" rel="noopener">Kaggle</a> 是目前最大的 Data Scientist 聚集地。很多公司会拿出自家的数据并提供奖金，在 Kaggle 上组织数据竞赛。我最近完成了第一次比赛，<strong>在 2125 个参赛队伍中排名第 98 位（~ 5%）</strong>。因为是第一次参赛，所以对这个成绩我已经很满意了。在 Kaggle 上一次比赛的结果除了排名以外，还会显示的就是 Prize Winner，10% 或是 25% 这三档。所以刚刚接触 Kaggle 的人很多都会以 25% 或是 10% 为目标。在本文中，我试图根据自己第一次比赛的经验和从其他 Kaggler 那里学到的知识，为刚刚听说 Kaggle 想要参赛的新手提供一些切实可行的冲刺 10% 的指导。<em>本文的英文版见这里。</em><a href="http://7xlo8f.com1.z0.glb.clouddn.com/blog-kaggle_profile.png" target="_blank" rel="noopener"><img src="http://7xlo8f.com1.z0.glb.clouddn.com/blog-kaggle_profile.png" alt="Kaggle Profile"></a>Kaggler 绝大多数都是用 Python 和 R 这两门语言的。因为我主要使用 Python，所以本文提到的例子都会根据 Python 来。不过 R 的用户应该也能不费力地了解到工具背后的思想。首先简单介绍一些关于 Kaggle 比赛的知识：不同比赛有不同的任务，分类、回归、推荐、排序等。比赛开始后训练集和测试集就会开放下载。比赛通常持续 2 ~ 3 个月，每个队伍每天可以提交的次数有限，通常为 5 次。比赛结束前一周是一个 Deadline，在这之后不能再组队，也不能再新加入比赛。所以<strong>想要参加比赛请务必在这一 Deadline 之前有过至少一次有效的提交</strong>。一般情况下在提交后会立刻得到得分的反馈。不同比赛会采取不同的评分基准，可以在分数栏最上方看到使用的评分方法。反馈的分数是基于测试集的一部分计算的，剩下的另一部分会被用于计算最终的结果。所以最后排名会变动。<strong>LB</strong> 指的就是在 Leaderboard 得到的分数，由上，有 <strong>Public LB</strong> 和 <strong>Private LB</strong> 之分。自己做的 Cross Validation 得到的分数一般称为 <strong>CV</strong> 或是 <strong>Local CV</strong>。一般来说 <strong>CV</strong> 的结果比 <strong>LB</strong> 要可靠。新手可以从比赛的 <strong>Forum</strong> 和 <strong>Scripts</strong> 中找到许多有用的经验和洞见。不要吝啬提问，Kaggler 都很热情。那么就开始吧！P.S. 本文假设读者对 Machine Learning 的基本概念和常见模型已经有一定了解。 Enjoy Reading!General Approach在这一节中我会讲述一次 Kaggle 比赛的大致流程。Data Exploration在这一步要做的基本就是 <strong>EDA (Exploratory Data Analysis)</strong>，也就是对数据进行探索性的分析，从而为之后的处理和建模提供必要的结论。通常我们会用 <strong>pandas</strong> 来载入数据，并做一些简单的可视化来理解数据。Visualization通常来说 <strong>matplotlib</strong> 和 <strong>seaborn</strong> 提供的绘图功能就可以满足需求了。比较常用的图表有：查看目标变量的分布。当分布<a href="http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=5128907" target="_blank" rel="noopener">不平衡</a>时，根据评分标准和具体模型的使用不同，可能会严重影响性能。对 <strong>Numerical Variable</strong>，可以用 <strong>Box Plot</strong> 来直观地查看它的分布。对于坐标类数据，可以用 <strong>Scatter Plot</strong> 来查看它们的分布趋势和是否有离群点的存在。对于分类问题，将数据根据 Label 的不同着不同的颜色绘制出来，这对 Feature 的构造很有帮助。绘制变量之间两两的分布和相关度图表。<strong>这里有一个在著名的 Iris 数据集上做了一系列可视化的例子，非常有启发性。</strong>Statistical Tests我们可以对数据进行一些统计上的测试来验证一些假设的显著性。虽然大部分情况下靠可视化就能得到比较明确的结论，但有一些定量结果总是更理想的。不过，在实际数据中经常会遇到非 i.i.d. 的分布。所以要注意测试类型的的选择和对显著性的解释。在某些比赛中，由于数据分布比较奇葩或是噪声过强，<strong>Public LB</strong> 的分数可能会跟 <strong>Local CV</strong> 的结果相去甚远。可以根据一些统计测试的结果来粗略地建立一个阈值，用来衡量一次分数的提高究竟是实质的提高还是由于数据的随机性导致的。Data Preprocessing大部分情况下，在构造 Feature 之前，我们需要对比赛提供的数据集进行一些处理。通常的步骤有：有时数据会分散在几个不同的文件中，需要 Join 起来。处理 <strong>Missing Data</strong>。处理 <strong>Outlier</strong>。必要时转换某些 <strong>Categorical Variable</strong> 的表示方式。有些 Float 变量可能是从未知的 Int 变量转换得到的，这个过程中发生精度损失会在数据中产生不必要的 <strong>Noise</strong>，即两个数值原本是相同的却在小数点后某一位开始有不同。这对 Model 可能会产生很负面的影响，需要设法去除或者减弱 Noise。这一部分的处理策略多半依赖于在前一步中探索数据集所得到的结论以及创建的可视化图表。在实践中，我建议使用 <strong>iPython Notebook</strong> 进行对数据的操作，并熟练掌握常用的 pandas 函数。这样做的好处是可以随时得到结果的反馈和进行修改，也方便跟其他人进行交流（在 Data Science 中 <a href="https://en.wikipedia.org/wiki/Reproducibility" target="_blank" rel="noopener">Reproducible Results</a> 是很重要的)。下面给两个例子。Outlier<a href="http://7xlo8f.com1.z0.glb.clouddn.com/blog-example_outlier.png" target="_blank" rel="noopener"><img src="http://7xlo8f.com1.z0.glb.clouddn.com/blog-example_outlier.png" alt="Outlier Example"></a>这是经过 Scaling 的坐标数据。可以发现右上角存在一些离群点，去除以后分布比较正常。Dummy Variables对于 Categorical Variable，常用的做法就是 <a href="https://en.wikipedia.org/wiki/One-hot" target="_blank" rel="noopener">One-hot encoding</a>。即对这一变量创建一组新的伪变量，对应其所有可能的取值。这些变量中只有这条数据对应的取值为 1，其他都为 0。如下，将原本有 7 种可能取值的 <code>Weekdays</code> 变量转换成 7 个 Dummy Variables。<a href="http://7xlo8f.com1.z0.glb.clouddn.com/blog-example-dummies.png" target="_blank" rel="noopener"><img src="http://7xlo8f.com1.z0.glb.clouddn.com/blog-example-dummies.png" alt="Dummies Example"></a>要注意，当变量可能取值的范围很大（比如一共有成百上千类）时，这种简单的方法就不太适用了。这时没有有一个普适的方法，但我会在下一小节描述其中一种。Feature Engineering有人总结 Kaggle 比赛是 <strong>“Feature 为主，调参和 Ensemble 为辅”</strong>，我觉得很有道理。Feature Engineering 能做到什么程度，取决于对数据领域的了解程度。比如在数据包含大量文本的比赛中，常用的 NLP 特征就是必须的。怎么构造有用的 Feature，是一个不断学习和提高的过程。一般来说，<strong>当一个变量从直觉上来说对所要完成的目标有帮助，就可以将其作为 Feature</strong>。至于它是否有效，最简单的方式就是通过图表来直观感受。比如：<a href="http://7xlo8f.com1.z0.glb.clouddn.com/blog-vis_check_feat.png" target="_blank" rel="noopener"><img src="http://7xlo8f.com1.z0.glb.clouddn.com/blog-vis_check_feat.png" alt="Checking Feature Validity"></a>Feature Selection总的来说，我们应该<strong>生成尽量多的 Feature，相信 Model 能够挑出最有用的 Feature</strong>。但有时先做一遍 Feature Selection 也能带来一些好处：Feature 越少，训练越快。有些 Feature 之间可能存在线性关系，影响 Model 的性能。<strong>通过挑选出最重要的 Feature，可以将它们之间进行各种运算和操作的结果作为新的 Feature，可能带来意外的提高。</strong>Feature Selection 最实用的方法也就是看 Random Forest 训练完以后得到的 <strong>Feature Importance</strong>了。其他有一些更复杂的算法在理论上更加 Robust，但是缺乏实用高效的实现，比如<a href="http://jmlr.org/papers/volume10/tuv09a/tuv09a.pdf" target="_blank" rel="noopener">这个</a>。从原理上来讲，增加 Random Forest 中树的数量可以在一定程度上加强其对于 Noisy Data 的 Robustness。看 Feature Importance 对于某些数据经过<strong>脱敏</strong>处理的比赛尤其重要。这可以免得你浪费大把时间在琢磨一个不重要的变量的意义上。Feature Encoding这里用一个例子来说明在一些情况下 Raw Feature 可能需要经过一些转换才能起到比较好的效果。假设有一个 Categorical Variable 一共有几万个取值可能，那么创建 Dummy Variables 的方法就不可行了。这时一个比较好的方法是根据 Feature Importance 或是这些取值本身在数据中的出现频率，为最重要（比如说前 95% 的 Importance）那些取值（有很大可能只有几个或是十几个）创建 Dummy Variables，而所有其他取值都归到一个“其他”类里面。Model Selection准备好 Feature 以后，就可以开始选用一些常见的模型进行训练了。Kaggle 上最常用的模型基本都是基于树的模型：<strong>Gradient Boosting</strong>Random ForestExtra Randomized Trees以下模型往往在性能上稍逊一筹，但是很适合作为 Ensemble 的 Base Model。这一点之后再详细解释。（当然，在跟图像有关的比赛中神经网络的重要性还是不能小觑的。）SVMLinear RegressionLogistic RegressionNeural Networks以上这些模型基本都可以通过 <strong>sklearn</strong> 来使用。当然，这里不能不提一下 <strong>Xgboost</strong>。<strong>Gradient Boosting</strong> 本身优秀的性能加上 <strong>Xgboost</strong> 高效的实现，使得它在 Kaggle 上广为使用。几乎每场比赛的获奖者都会用 <strong>Xgboost</strong> 作为最终 Model 的重要组成部分。在实战中，我们往往会以 Xgboost 为主来建立我们的模型并且验证 Feature 的有效性。顺带一提，<strong>在 Windows 上安装</strong> Xgboost <strong>很容易遇到问题，目前已知最简单、成功率最高的方案可以参考我在这篇帖子中的描述</strong>。Model Training在训练时，我们主要希望通过调整参数来得到一个性能不错的模型。一个模型往往有很多参数，但其中比较重要的一般不会太多。比如对 <strong>sklearn</strong> 的 <code>RandomForestClassifier</code> 来说，比较重要的就是随机森林中树的数量 <code>n_estimators</code> 以及在训练每棵树时最多选择的特征数量 <code>max_features</code>。所以<strong>我们需要对自己使用的模型有足够的了解，知道每个参数对性能的影响是怎样的</strong>。通常我们会通过一个叫做 <a href="http://scikit-learn.org/stable/modules/generated/sklearn.grid_search.GridSearchCV.html" target="_blank" rel="noopener">Grid Search</a>) 的过程来确定一组最佳的参数。其实这个过程说白了就是根据给定的参数候选对所有的组合进行暴力搜索。<code>param_grid = {&#39;n_estimators&#39;: [300, 500], &#39;max_features&#39;: [10, 12, 14]}model = grid_search.GridSearchCV(estimator=rfr, param_grid=param_grid, n_jobs=1, cv=10, verbose=20, scoring=RMSE)model.fit(X_train, y_train)</code>顺带一提，Random Forest 一般在 <code>max_features</code> 设为 Feature 数量的平方根附近得到最佳结果。这里要重点讲一下 Xgboost 的调参。通常认为对它性能影响较大的参数有：<code>eta</code>：每次迭代完成后更新权重时的步长。越小训练越慢。<code>num_round</code>：总共迭代的次数。<code>subsample</code>：训练每棵树时用来训练的数据占全部的比例。用于防止 Overfitting。<code>colsample_bytree</code>：训练每棵树时用来训练的特征的比例，类似 <code>RandomForestClassifier</code> 的 <code>max_features</code>。<code>max_depth</code>：每棵树的最大深度限制。与 Random Forest 不同，<strong>Gradient Boosting 如果不对深度加以限制，最终是会 Overfit 的</strong>。<code>early_stopping_rounds</code>：用于控制在 Out Of Sample 的验证集上连续多少个迭代的分数都没有提高后就提前终止训练。用于防止 Overfitting。一般的调参步骤是：将训练数据的一部分划出来作为验证集。先将 <code>eta</code> 设得比较高（比如 0.1），<code>num_round</code> 设为 300 ~ 500。用 Grid Search 对其他参数进行搜索逐步将 <code>eta</code> 降低，找到最佳值。以验证集为 watchlist，用找到的最佳参数组合重新在训练集上训练。注意观察算法的输出，看每次迭代后在验证集上分数的变化情况，从而得到最佳的 <code>early_stopping_rounds</code>。<code>X_dtrain, X_deval, y_dtrain, y_deval = cross_validation.train_test_split(X_train, y_train, random_state=1026, test_size=0.3)dtrain = xgb.DMatrix(X_dtrain, y_dtrain)deval = xgb.DMatrix(X_deval, y_deval)watchlist = [(deval, &#39;eval&#39;)]params = {    &#39;booster&#39;: &#39;gbtree&#39;,    &#39;objective&#39;: &#39;reg:linear&#39;,    &#39;subsample&#39;: 0.8,    &#39;colsample_bytree&#39;: 0.85,    &#39;eta&#39;: 0.05,    &#39;max_depth&#39;: 7,    &#39;seed&#39;: 2016,    &#39;silent&#39;: 0,    &#39;eval_metric&#39;: &#39;rmse&#39;}clf = xgb.train(params, dtrain, 500, watchlist, early_stopping_rounds=50)pred = clf.predict(xgb.DMatrix(df_test))</code>最后要提一点，所有具有随机性的 Model 一般都会有一个 <code>seed</code> 或是 <code>random_state</code> 参数用于控制随机种子。得到一个好的 Model 后，在记录参数时务必也记录下这个值，从而能够在之后重现 Model。Cross Validation<a href="https://en.wikipedia.org/wiki/Cross-validation_(statistics" target="_blank" rel="noopener">Cross Validation</a>) 是非常重要的一个环节。它让你知道你的 Model 有没有 Overfit，是不是真的能够 Generalize 到测试集上。在很多比赛中 <strong>Public LB</strong> 都会因为这样那样的原因而不可靠。当你改进了 Feature 或是 Model 得到了一个更高的 <strong>CV</strong> 结果，提交之后得到的 <strong>LB</strong> 结果却变差了，<strong>一般认为这时应该相信 CV 的结果</strong>。当然，最理想的情况是多种不同的 <strong>CV</strong> 方法得到的结果和 <strong>LB</strong> 同时提高，但这样的比赛并不是太多。在数据的分布比较随机均衡的情况下，<strong>5-Fold CV</strong> 一般就足够了。如果不放心，可以提到 <strong>10-Fold</strong>。<strong>但是 Fold 越多训练也就会越慢，需要根据实际情况进行取舍。</strong>很多时候简单的 <strong>CV</strong> 得到的分数会不大靠谱，Kaggle 上也有很多关于如何做 <strong>CV</strong> 的讨论。比如<a href="https://www.kaggle.com/c/telstra-recruiting-network/forums/t/19277/what-is-your-cross-validation-method" target="_blank" rel="noopener">这个</a>。但总的来说，靠谱的 <strong>CV</strong> 方法是 Case By Case 的，需要在实际比赛中进行尝试和学习，这里就不再（也不能）叙述了。Ensemble Generation<a href="https://en.wikipedia.org/wiki/Ensemble_learning" target="_blank" rel="noopener">Ensemble Learning</a> 是指将多个不同的 Base Model 组合成一个 Ensemble Model 的方法。它可以<strong>同时降低最终模型的 Bias 和 Variance</strong>（证明可以参考<a href="http://link.springer.com/chapter/10.1007%2F3-540-33019-4_19" target="_blank" rel="noopener">这篇论文</a>，我最近在研究类似的理论，可能之后会写新文章详述)，<strong>从而在提高分数的同时又降低 Overfitting 的风险</strong>。在现在的 Kaggle 比赛中要不用 Ensemble 就拿到奖金几乎是不可能的。常见的 Ensemble 方法有这么几种：Bagging：使用训练数据的不同随机子集来训练每个 Base Model，最后进行每个 Base Model 权重相同的 Vote。也即 Random Forest 的原理。Boosting：迭代地训练 Base Model，每次根据上一个迭代中预测错误的情况修改训练样本的权重。也即 Gradient Boosting 的原理。比 Bagging 效果好，但更容易 Overfit。Blending：用不相交的数据训练不同的 Base Model，将它们的输出取（加权）平均。实现简单，但对训练数据利用少了。Stacking：接下来会详细介绍。从理论上讲，Ensemble 要成功，有两个要素：<strong>Base Model 之间的相关性要尽可能的小。</strong>这就是为什么非 Tree-based Model 往往表现不是最好但还是要将它们包括在 Ensemble 里面的原因。Ensemble 的 Diversity 越大，最终 Model 的 Bias 就越低。<strong>Base Model 之间的性能表现不能差距太大。</strong>这其实是一个 <strong>Trade-off</strong>，在实际中很有可能表现相近的 Model 只有寥寥几个而且它们之间相关性还不低。但是实践告诉我们即使在这种情况下 Ensemble 还是能大幅提高成绩。Stacking相比 Blending，Stacking 能更好地利用训练数据。以 5-Fold Stacking 为例，它的基本原理如图所示：<a href="http://7xlo8f.com1.z0.glb.clouddn.com/blog-diagram-stacking.jpg" target="_blank" rel="noopener"><img src="http://7xlo8f.com1.z0.glb.clouddn.com/blog-diagram-stacking.jpg" alt="Stacking"></a>整个过程很像 Cross Validation。首先将训练数据分为 5 份，接下来一共 5 个迭代，每次迭代时，将 4 份数据作为 Training Set 对每个 Base Model 进行训练，然后在剩下一份 Hold-out Set 上进行预测。<strong>同时也要将其在测试数据上的预测保存下来。</strong>这样，每个 Base Model 在每次迭代时会对训练数据的其中 1 份做出预测，对测试数据的全部做出预测。5 个迭代都完成以后我们就获得了一个 <code>#训练数据行数 x #Base Model 数量</code> 的矩阵，这个矩阵接下来就作为第二层的 Model 的训练数据。当第二层的 Model 训练完以后，将之前保存的 Base Model 对测试数据的预测（<strong>因为每个 Base Model 被训练了 5 次，对测试数据的全体做了 5 次预测，所以对这 5 次求一个平均值，从而得到一个形状与第二层训练数据相同的矩阵</strong>）拿出来让它进行预测，就得到最后的输出。这里给出我的实现代码：<code>class Ensemble(object):    def __init__(self, n_folds, stacker, base_models):        self.n_folds = n_folds        self.stacker = stacker        self.base_models = base_models    def fit_predict(self, X, y, T):        X = np.array(X)        y = np.array(y)        T = np.array(T)        folds = list(KFold(len(y), n_folds=self.n_folds, shuffle=True, random_state=2016))        S_train = np.zeros((X.shape[0], len(self.base_models)))        S_test = np.zeros((T.shape[0], len(self.base_models)))        for i, clf in enumerate(self.base_models):            S_test_i = np.zeros((T.shape[0], len(folds)))            for j, (train_idx, test_idx) in enumerate(folds):                X_train = X[train_idx]                y_train = y[train_idx]                X_holdout = X[test_idx]                # y_holdout = y[test_idx]                clf.fit(X_train, y_train)                y_pred = clf.predict(X_holdout)[:]                S_train[test_idx, i] = y_pred                S_test_i[:, j] = clf.predict(T)[:]            S_test[:, i] = S_test_i.mean(1)        self.stacker.fit(S_train, y)        y_pred = self.stacker.predict(S_test)[:]        return y_pred</code>获奖选手往往会使用比这复杂得多的 Ensemble，会出现三层、四层甚至五层，不同的层数之间有各种交互，还有将经过不同的 Preprocessing 和不同的 Feature Engineering 的数据用 Ensemble 组合起来的做法。但对于新手来说，稳稳当当地实现一个正确的 5-Fold Stacking 已经足够了。<em>Pipeline可以看出 Kaggle 比赛的 Workflow 还是比较复杂的。尤其是 Model Selection 和 Ensemble。理想情况下，我们需要搭建一个高自动化的 Pipeline，它可以做到：<strong>模块化 Feature Transform</strong>，只需写很少的代码就能将新的 Feature 更新到训练集中。<strong>自动化 Grid Search</strong>，只要预先设定好使用的 Model 和参数的候选，就能自动搜索并记录最佳的 Model。<strong>自动化 Ensemble Generation</strong>，每个一段时间将现有最好的 K 个 Model 拿来做 Ensemble。对新手来说，第一点可能意义还不是太大，因为 Feature 的数量总是人脑管理的过来的；第三点问题也不大，因为往往就是在最后做几次 Ensemble。但是第二点还是很有意义的，手工记录每个 Model 的表现不仅浪费时间而且容易产生混乱。<a href="https://www.kaggle.com/c/crowdflower-search-relevance" target="_blank" rel="noopener">Crowdflower Search Results Relevance</a> 的第一名获得者 <a href="https://www.kaggle.com/chenglongchen" target="_blank" rel="noopener">Chenglong Chen</a> 将他在比赛中使用的 Pipeline <a href="https://github.com/ChenglongChen/Kaggle_CrowdFlower" target="_blank" rel="noopener">公开了</a>，非常具有参考和借鉴意义。只不过看懂他的代码并将其中的逻辑抽离出来搭建这样一个框架，还是比较困难的一件事。可能在参加过几次比赛以后专门抽时间出来做会比较好。Home Depot Search Relevance在这一节中我会具体分享我在 <a href="https://www.kaggle.com/c/home-depot-product-search-relevance" target="_blank" rel="noopener">Home Depot Search Relevance</a> 比赛中是怎么做的，以及比赛结束后从排名靠前的队伍那边学到的做法。首先简单介绍这个比赛。Task 是<strong>判断用户搜索的关键词和网站返回的结果之间的相关度有多高</strong>。相关度是由 3 个人类打分取平均得到的，每个人可能打 1 ~ 3 分，所以这是一个回归问题。数据中包含用户的搜索词，返回的产品的标题和介绍，以及产品相关的一些属性比如品牌、尺寸、颜色等。使用的评分基准是 <a href="https://en.wikipedia.org/wiki/Root-mean-square_deviation" target="_blank" rel="noopener">RMSE</a>。这个比赛非常像 <a href="https://www.kaggle.com/c/crowdflower-search-relevance" target="_blank" rel="noopener">Crowdflower Search Results Relevance</a> 那场比赛。不过那边用的评分基准是 <a href="https://en.wikipedia.org/wiki/Cohen%27s_kappa#Weighted_kappa" target="_blank" rel="noopener">Quadratic Weighted Kappa</a>，把 1 误判成 4 的惩罚会比把 1 判成 2 的惩罚大得多，所以在最后 Decode Prediction 的时候会更麻烦一点。除此以外那次比赛没有提供产品的属性。EDA由于加入比赛比较晚，当时已经有相当不错的 EDA 了。尤其是<a href="https://www.kaggle.com/briantc/home-depot-product-search-relevance/homedepot-first-dataexploreation-k" target="_blank" rel="noopener">这个</a>。从中我得到的启发有：同一个搜索词/产品都出现了多次，<strong>数据分布显然不 i.i.d.</strong>。文本之间的相似度很有用。产品中有相当大一部分缺失属性，要考虑这会不会使得从属性中得到的 Feature 反而难以利用。产品的 ID 对预测相关度很有帮助，但是考虑到训练集和测试集之间的重叠度并不太高，利用它会不会导致 Overfitting？Preprocessing这次比赛中我的 Preprocessing 和 Feature Engineering 的具体做法都可以在<a href="https://github.com/dnc1994/Kaggle-Playground/blob/master/home-depot/Preprocess.ipynb" target="_blank" rel="noopener">这里</a>看到。我只简单总结一下和指出重要的点。利用 Forum 上的 <a href="https://www.kaggle.com/steubk/home-depot-product-search-relevance/fixing-typos" target="_blank" rel="noopener">Typo Dictionary</a> 修正搜索词中的错误。统计属性的出现次数，将其中出现次数多又容易利用的记录下来。将训练集和测试集合并，并与产品描述和属性 Join 起来。这是考虑到后面有一系列操作，如果不合并的话就要重复写两次了。对所有文本能做 <strong>Stemming</strong> 和 <strong>Tokenizing</strong>，同时手工做了一部分<strong>格式统一化（比如涉及到数字和单位的）</strong>和<strong>同义词替换</strong>。Feature</em>Attribute Features是否包含某个特定的属性（品牌、尺寸、颜色、重量、内用/外用、是否有能源之星认证等）这个特定的属性是否匹配Meta Features各个文本域的长度是否包含属性域品牌（将所有的品牌做数值离散化）产品 ID简单匹配搜索词是否在产品标题、产品介绍或是产品属性中出现搜索词在产品标题、产品介绍或是产品属性中出现的数量和比例<em>搜索词中的第 i 个词是否在产品标题、产品介绍或是产品属性中出现搜索词和产品标题、产品介绍以及产品属性之间的文本相似度<a href="https://en.wikipedia.org/wiki/Bag-of-words_model" target="_blank" rel="noopener">BOW</a> <a href="https://en.wikipedia.org/wiki/Cosine_similarity" target="_blank" rel="noopener">Cosine Similairty</a><a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf" target="_blank" rel="noopener">TF-IDF</a> Cosine Similarity<a href="https://en.wikipedia.org/wiki/Jaccard_index" target="_blank" rel="noopener">Jaccard Similarity</a></em><a href="https://en.wikipedia.org/wiki/Edit_distance" target="_blank" rel="noopener">Edit Distance</a><a href="https://en.wikipedia.org/wiki/Word2vec" target="_blank" rel="noopener">Word2Vec</a> Distance（由于效果不好，最后没有使用，但似乎是因为用的不对）<strong>Latent Semantic Indexing：通过将 BOW/TF-IDF Vectorization 得到的矩阵进行 SVD 分解，我们可以得到不同搜索词/产品组合的 Latent 标识。这个 Feature 使得 Model 能够在一定程度上对不同的组合做出区别，从而解决某些产品缺失某些 Feature 的问题。</strong>值得一提的是，上面打了 <code>*</code> 的 Feature 都是我在最后一批加上去的。问题是，使用这批 Feature 训练得到的 Model 反而比之前的要差，而且还差不少。我一开始是以为因为 Feature 的数量变多了所以一些参数需要重新调优，但在浪费了很多时间做 Grid Search 以后却发现还是没法超过之前的分数。这可能就是之前提到的 Feature 之间的相互作用导致的问题。当时我设想过一个看到过好几次的解决方案，就是<strong>将使用不同版本 Feature 的 Model 通过 Ensemble 组合起来</strong>。但最终因为时间关系没有实现。事实上排名靠前的队伍分享的解法里面基本都提到了将不同的 Preprocessing 和 Feature Engineering 做 Ensemble 是获胜的关键。Model我一开始用的是 <code>RandomForestRegressor</code>，后来在 Windows 上折腾 <strong>Xgboost</strong> 成功了就开始用 <code>XGBRegressor</code>。<strong>XGB</strong> 的优势非常明显，同样的数据它只需要不到一半的时间就能跑完，节约了很多时间。比赛中后期我基本上就是一边台式机上跑 <strong>Grid Search</strong>，一边在笔记本上继续研究 Feature。这次比赛数据分布很不独立，所以期间多次遇到改进的 Feature 或是 <strong>Grid Search</strong> 新得到的参数训练出来的模型反而 <strong>LB</strong> 分数下降了。由于被很多前辈教导过要相信自己的 <strong>CV</strong>，我的决定是将 5-Fold 提到 10-Fold，然后以 <strong>CV</strong> 为标准继续前进。Ensemble最终我的 Ensemble 的 Base Model 有以下四个：<code>RandomForestRegressor``ExtraTreesRegressor``GradientBoostingRegressor``XGBRegressor</code>第二层的 Model 还是用的 <strong>XGB</strong>。因为 <strong>Base Model</strong> 之间的相关都都太高了（最低的一对也有 0.9），我原本还想引入使用 <code>gblinear</code>的 <code>XGBRegressor</code> 以及 <code>SVR</code>，但前者的 RMSE 比其他几个 Model 高了 0.02（这在 <strong>LB</strong> 上有几百名的差距），而后者的训练实在太慢了。最后还是只用了这四个。<strong>值得一提的是，在开始做</strong> Stacking <strong>以后，我的 CV 和 LB 成绩的提高就是完全同步的了。</strong>在比赛最后两天，因为身心疲惫加上想不到还能有什么显著的改进，我做了一件事情：用 20 个不同的随机种子来生成 Ensemble，最后取 <strong>Weighted Average</strong>。这个其实算是一种变相的 Bagging。<strong>其意义在于按我实现</strong> Stacking <strong>的方式，我在训练 Base Model 时只用了 80% 的训练数据，而训练第二层的 Model 时用了 100% 的数据，这在一定程度上增大了 Overfitting 的风险。而每次更改随机种子可以确保每次用的是不同的 80%，这样在多次训练取平均以后就相当于逼近了使用 100% 数据的效果。</strong>这给我带来了大约 <code>0.0004</code> 的提高，也很难受说是真的有效还是随机性了。比赛结束后我发现我最好的单个 Model 在 <strong>Private LB</strong> 上的得分是 <code>0.46378</code>，而最终 Stacking 的得分是 <code>0.45849</code>。这是 174 名和 98 名的差距。也就是说，我单靠 Feature 和调参进到了 前 10%，而 <strong>Stacking</strong> 使我进入了前 5%。Lessons Learned比赛结束后一些队伍分享了他们的解法，从中我学到了一些我没有做或是做的不够好的地方：产品标题的组织方式是有 Pattern 的，比如一个产品是否带有某附件一定会用 <code>With/Without XXX</code> 的格式放在标题最后。使用<strong>外部数据</strong>，比如 <a href="https://wordnet.princeton.edu/" target="_blank" rel="noopener">WordNet</a>，<a href="https://www.kaggle.com/reddit/reddit-comments-may-2015" target="_blank" rel="noopener">Reddit 评论数据集</a>等来训练同义词和上位词（在一定程度上替代 Word2Vec）词典。基于<strong>字母</strong>而不是单词的 NLP Feature。这一点我让我十分费解，但请教以后发现非常有道理。举例说，排名第三的队伍在计算匹配度时，将搜索词和内容中相匹配的单词的长度也考虑进去了。这是因为他们发现<strong>越长的单词约具体，所以越容易被用户认为相关度高</strong>。此外他们还使用了逐字符的序列比较（<code>difflib.SequenceMatcher</code>），因为<strong>这个相似度能够衡量视觉上的相似度</strong>。像这样的 Feature 的确不是每个人都能想到的。标注单词的词性，找出<strong>中心词</strong>，计算基于中心词的各种匹配度和距离。这一点我想到了，但没有时间尝试。将产品标题/介绍中 TF-IDF 最高的一些 Trigram 拿出来，计算搜索词中出现在这些 Trigram 中的比例；反过来以搜索词为基底也做一遍。这相当于是从另一个角度抽取了一些 Latent 标识。一些新颖的距离尺度，比如 <a href="http://jmlr.org/proceedings/papers/v37/kusnerb15.pdf" target="_blank" rel="noopener">Word Movers Distance</a>除了 SVD 以外还可以用上 <a href="https://en.wikipedia.org/wiki/Non-negative_matrix_factorization" target="_blank" rel="noopener">NMF</a>。<strong>最重要的 Feature 之间的 Pairwise Polynomial Interaction</strong>。<strong>针对数据不 i.i.d. 的问题，在 CV 时手动构造测试集与验证集之间产品 ID 不重叠和重叠的两种不同分割，并以与实际训练集/测试集的分割相同的比例来做 CV 以逼近 LB 的得分分布</strong>。至于 Ensemble 的方法，我暂时还没有办法学到什么，因为自己只有最简单的 Stacking 经验。SummaryTakeaways比较早的时候就开始做 Ensemble 是对的，这次比赛到倒数第三天我还在纠结 Feature。很有必要搭建一个 Pipeline，至少要能够自动训练并记录最佳参数。Feature 为王。我花在 Feature 上的时间还是太少。可能的话，多花点时间去手动查看原始数据中的 Pattern。Issues Raised我认为在这次比赛中遇到的一些问题是很有研究价值的：在数据分布并不 i.i.d. 甚至有 Dependency 时如何做靠谱的 <strong>CV</strong>。如何量化 Ensemble 中 <strong>Diversity vs. Accuracy</strong> 的 Trade-off。如何处理 Feature 之间互相影响导致性能反而下降。Beginner Tips给新手的一些建议：选择一个感兴趣的比赛。<strong>如果你对相关领域原本就有一些洞见那就更理想了。</strong>根据我描述的方法开始探索、理解数据并进行建模。通过 Forum 和 Scripts 学习其他人对数据的理解和构建 Feature 的方式。<strong>如果之前有过类似的比赛，可以去找当时获奖者的 Interview 和 Blog Post 作为参考，往往很有用。</strong>在得到一个比较不错的 <strong>LB</strong> 分数（比如已经接近前 10%）以后可以开始尝试做 Ensemble。如果觉得自己有希望拿到奖金，开始找人组队吧！<strong>到比赛结束为止要绷紧一口气不能断，尽量每天做一些新尝试。</strong>比赛结束后学习排名靠前的队伍的方法，思考自己这次比赛中的不足和发现的问题，<strong>可能的话再花点时间将学到的新东西用实验进行确认，为下一次比赛做准备</strong>。好好休息！Reference<a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiPxZHewLbMAhVKv5QKHb3PCGwQFggcMAA&amp;url=http%3A%2F%2Fwww.ke.tu-darmstadt.de%2Flehre%2Farbeiten%2Fstudien%2F2015%2FDong_Ying.pdf&amp;usg=AFQjCNE9o2BcEkqdnu_-lQ3EFD3eRAFWiw&amp;sig2=oiU8TCEH57EYF9v9l6Scrw&amp;bvm=bv.121070826,d.dGo" target="_blank" rel="noopener">Beating Kaggle the Easy Way - Dong Ying</a><a href="http://rstudio-pubs-static.s3.amazonaws.com/158725_5d2f977f4004490e9b095c0ef9357c6b.html" target="_blank" rel="noopener">Solution for Prudential Life Insurance Assessment - Nutastray</a><a href="https://github.com/ChenglongChen/Kaggle_CrowdFlower/blob/master/BlogPost/BlogPost.md" target="_blank" rel="noopener">Search Results Relevance Winner’s Interview: 1st place, Chenglong Chen</a>Buy me an Asahi Beer :)Donate<a href="https://dnc1994.com/tags/XGBoost/" target="_blank" rel="noopener"># XGBoost</a> <a href="https://dnc1994.com/tags/Kaggle/" target="_blank" rel="noopener"># Kaggle</a> <a href="https://dnc1994.com/tags/Machine-Learning/" target="_blank" rel="noopener"># Machine Learning</a> <a href="https://dnc1994.com/tags/Data-Science/" target="_blank" rel="noopener"># Data Science</a> <a href="https://dnc1994.com/tags/Python/" target="_blank" rel="noopener"># Python</a> <a href="https://dnc1994.com/tags/Ensemble-Learning/" target="_blank" rel="noopener"># Ensemble Learning</a> <a href="https://dnc1994.com/tags/Stacking/" target="_blank" rel="noopener"># Stacking</a><a href="https://dnc1994.com/tags/Scikit-learn/" target="_blank" rel="noopener"># Scikit-learn</a> <a href="https://dnc1994.com/tags/Pandas/" target="_blank" rel="noopener"># Pandas</a> <a href="https://dnc1994.com/tags/Seaborn/" target="_blank" rel="noopener"># Seaborn</a> <a href="https://dnc1994.com/tags/Matplotlib/" target="_blank" rel="noopener"># Matplotlib</a> <a href="https://dnc1994.com/tags/Natural-Language-Processing/" target="_blank" rel="noopener"># Natural Language Processing</a><a href="https://dnc1994.com/2016/03/how-to-prepare-for-toefl-gre/" target="_blank" rel="noopener">如何备考 TOEFL/GRE</a><a href="https://dnc1994.com/2016/05/rank-10-percent-in-first-kaggle-competition-en/" target="_blank" rel="noopener">How to Rank 10% in Your First Kaggle Competition</a>Table of Contents Overview<a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/#Introduction" target="_blank" rel="noopener">1. Introduction</a><a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/#General-Approach" target="_blank" rel="noopener">2. General Approach</a><a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/#Home-Depot-Search-Relevance" target="_blank" rel="noopener">3. Home Depot Search Relevance</a><a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/#Summary" target="_blank" rel="noopener">4. Summary</a><a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/#Reference" target="_blank" rel="noopener">5. Reference</a></p>
<p>© 2015 — 2018  Linghao Zhang</p>
<p>Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a></p>
<p>|</p>
<p>Theme — <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">NexT.Muse</a> v5.1.4</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Schwimmer</p>
              <div class="site-description motion-element" itemprop="description">Record and Think!</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">308</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">61</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Schwimmer</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.2.0</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    
      <div>
        
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "1",
        "bdMiniList": false,
        "bdPic": ""
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      },
      "slide": {
        "bdImg": "5",
        "bdPos": "left",
        "bdTop": "100"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      </div>
    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.2.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.2.0"></script>


  

  

  

  
  
<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://https-schwimmer-github-io.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>







  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
  

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });
  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') { next = next.nextSibling }
        if (next && next.nodeName.toLowerCase() === 'br') { next.parentNode.removeChild(next) }
      }
    });
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      document.getElementById(all[i].inputID + '-Frame').parentNode.className += ' has-jax';
    }
  });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

    
  


  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
